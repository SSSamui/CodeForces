#include <iostream>
#include <cstdio>
#include <vector>
#include <cmath>
using namespace std;
 
const int MXW = 1e5;
 
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);
 
	int _;
	cin >> _;
	if (_ == -1) return 0;
	while (_--)
	{
		cout << "? " << MXW;
		int curr = MXW;
		while (curr--) cout << " 1";
		cout << "\n";
		cout.flush();
 
		int k;
		cin >> k;
		if (k == -1) return 0;
		if (k == 1)
		{
			cout << "! " << MXW << "\n";
			cout.flush();
		}
 
		else
		{
			int L = (MXW + k - 1) / k, R = (MXW + k - 2) / (k - 1) - 1;
			if (L == R)
			{
				cout << "! " << L << "\n";
				cout.flush();
			}
 
			else
			{
				vector<int> qry(0);
				for (int i = 1; i <= R - L; i++)
				{
					qry.push_back(L);
					qry.push_back(i);
				}
 
				cout << "? " << qry.size();
				for (int i = 0; i < qry.size(); i++) cout << ' ' << qry[i];
				cout << "\n";
				cout.flush();
 
				int q;
				cin >> q;
				if (q == -1) return 0;
 
				int ans = 2 * (R - L) - q + L;
				cout << "! " << ans << "\n";
				cout.flush();
			}
		}
	}
}
